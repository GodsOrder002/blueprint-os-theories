-- auto-generated definition
create table constraints
(
    id               bigint unsigned auto_increment
        primary key,
    master_id        bigint unsigned default '0'               not null comment '0=主约束；>0=父约束id',
    language_type_id bigint          default 0                 not null comment '语言的类型，英语/德语，等等',
    system_type_id   bigint          default 0                 not null comment '文字系统类型：引用 type_dict.id（name=system_type）',
    description      text                                      not null comment '描述（默认空串）',
    created_at       timestamp       default CURRENT_TIMESTAMP not null,
    updated_at       timestamp       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    status_id        bigint          default 0                 not null comment '状态：引用type_dict表，例如 0=unreview,1=active,2=inactive,-1=deprecated',
    script           longtext                                  not null comment '具体约束条件脚本/规则文本',
    channel_type_id  bigint          default 0                 not null comment '约束条件的类别，书写系统/音律等等'
)
    comment '主子约束条件（单表；不允许NULL；主约束master_id=0）';

create index idx_status_language
    on constraints (status_id, language_type_id);

